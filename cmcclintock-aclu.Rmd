---
title: "ACLU Court Watch Project"
author: "Charlotte McClintock"
date: "January 2020"
output: 
  html_document:
    theme: yeti
    toc: true
    toc_float: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = F)
library(tidyverse)
library(knitr)
```

## 4. Counsel

### (a) What percent of people are represented by counsel at bond setting?

**assumes all cases in data are bond setting cases**
```{r}
kable(prop.table(table(cw$DefRepByCounsel)))
```

### (b) What percent of people who plead at bond setting are represented by counsel?
```{r}
kable(prop.table(table(subset(cw, Result="Guilty plea")$DefRepByCounsel))) # 84%
```

### (c) Are there apparent differences in bond setting practices (money bond/PR bond/amount of bond) dependent on presence of counsel?
```{r}
prop.table(table(cw$JudgeSet, cw$DefRepByCounsel), margin = 2)
prop.table(table(cw$ProsAsk, cw$DefRepByCounsel), margin = 2)
```

## 6. What percent of the time does the judge follow the DA's bond request?

```{r}
cw$JudgeSet <- ifelse(cw$Bondsetbycourt %in% 
                        c("Cash or Surety (C/S)", "Cash Only"), "Judge Set Cash Bail", "Judge Set PR")
cw$ProsAsk <- ifelse(cw$ProsecutionBondRequest %in% 
                       c("Cash or Surety (C/S)", "Cash Only"), "Prosecution Sought Cash Bail", "Prosecution Sought PR")

kable(table(cw$JudgeSet, cw$ProsAsk))

kable(round(100*prop.table(table(cw$JudgeSet, cw$ProsAsk), margin = 2), 1))

```

## 8. What percent of defendants are experiencing homelessness and how does that play out in all the above analyses?

Only measure of homelessness is in defense bond arguments - by this measure, 42 individuals are homeless, mostly from the Denver Municipal Court. 

```{r}
ggplot(cw, aes(WhichCourt)) + geom_bar() + 
  facet_wrap(~DefBondArg.Defendantishomeless, scales="free") 
```

Exploratory modeling suggests homelessness is significantly associated with cash bond set. MORE ON THIS. 
